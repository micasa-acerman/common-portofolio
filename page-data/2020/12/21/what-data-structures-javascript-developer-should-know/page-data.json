{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020/12/21/what-data-structures-javascript-developer-should-know","result":{"data":{"content":{"edges":[{"node":{"id":"30fe8f03-f0b5-57c2-9383-0e69a090c96b","html":"<h2 id=\"введение\" style=\"position:relative;\"><a href=\"#%D0%B2%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5\" aria-label=\"введение permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Введение</h2>\n<p>NPM - это пакетный менеджер для javascript. Многие javascript разработчики использовали на практике CLI инструменты для установки зависимостей.</p>\n<p>В этой статей я поделюсь советами и хитростями работы с пакетным менеджером, в которых я поделюсь опытом более эффективного использования NPM.</p>\n<h2 id=\"1-инициализация-проекта\" style=\"position:relative;\"><a href=\"#1-%D0%B8%D0%BD%D0%B8%D1%86%D0%B8%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0\" aria-label=\"1 инициализация проекта permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Инициализация проекта</h2>\n<p>Обычно для инициализации проекта мы используем команду <code class=\"language-text\">npm init</code> и после заполняем информацию(название пакета, версия, автор и т.д.). Можно использовать альтернативную версию инициализации с автоматической генерацией package.json используя <code class=\"language-text\">npm init -y</code>.</p>\n<p>Так же можно установить значение заполняемых полей по умолчанию используя <code class=\"language-text\">npm config</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\">npm config set init-author-name &quot;Micasa Acerman&quot;\nnpm config set init-author-email &quot;chrimsonm@gmail.com&quot;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Еще можно расширить базовые возможности <code class=\"language-text\">npm init</code> указав дополнительный js скрипт.</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\">npm config set init-module &lt;путь-к-директории&gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h2 id=\"2-установка-зависимостей-с-других-ресурсов\" style=\"position:relative;\"><a href=\"#2-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B5%D0%B9-%D1%81-%D0%B4%D1%80%D1%83%D0%B3%D0%B8%D1%85-%D1%80%D0%B5%D1%81%D1%83%D1%80%D1%81%D0%BE%D0%B2\" aria-label=\"2 установка зависимостей с других ресурсов permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Установка зависимостей с других ресурсов</h2>\n<p>Пакетный менеджер ноды позволяет устанавливать зависимости из разных источников. К примеру: bit, tarball, github, bitbucket, gist.</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\"># Установка Bit\nnpm config set @bit:registry https://node.bit.dev\nnpm i @bit/username.collection.component\n\n# Установка tarball установленный локально\nnpm i ./local-tarball-package.tgz\n\n# Установка tarball удаленно\nnpm i https://abc/xyz/package.tar.gz\n\n# Установка из github\nnpm i githubuser/reponame\n\n# Установка из bitbucket\nnpm i bitbucket:bitbucketuser/reponame\n\n# Установка из gist\nnpm i gist:gistID</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"3-установка-проекта-с-чистого-листа\" style=\"position:relative;\"><a href=\"#3-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0-%D1%81-%D1%87%D0%B8%D1%81%D1%82%D0%BE%D0%B3%D0%BE-%D0%BB%D0%B8%D1%81%D1%82%D0%B0\" aria-label=\"3 установка проекта с чистого листа permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Установка проекта с чистого листа</h2>\n<p>Можно использовать команду <code class=\"language-text\">npm ci</code> для чистой установки пакета. Обычно она используется в автоматизированных средах CI/CD.</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\">npm ci</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Отличие чистой установки <code class=\"language-text\">npm ci</code> от обычной <code class=\"language-text\">npm install</code>:</p>\n<ul>\n<li>установка точной версии пакета из <code class=\"language-text\">package-lock.json</code></li>\n<li>удаляет существующий node_modules</li>\n<li>не записывает ничего в <code class=\"language-text\">package.json</code> и <code class=\"language-text\">package-lock.json</code> </li>\n<li>не устанавлиает зависимости</li>\n</ul>\n<h2 id=\"4-использование-сокращенного-стиля-записи-cli-команд\" style=\"position:relative;\"><a href=\"#4-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D1%81%D0%BE%D0%BA%D1%80%D0%B0%D1%89%D0%B5%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE-%D1%81%D1%82%D0%B8%D0%BB%D1%8F-%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B8-cli-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4\" aria-label=\"4 использование сокращенного стиля записи cli команд permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Использование сокращенного стиля записи CLI команд</h2>\n<p>Важная деталь экономящая время - использования кратково синтаксиса.</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\">// Установка пакета\nnpm install &lt;пакет&gt;\nnpm i &lt;пакет&gt;\n\n// Установка dev-пакета\nnpm install --save-dev &lt;пакет&gt;\nnpm install -D &lt;пакет&gt;\n\n// Установка пакетов глобально\nnpm install --global &lt;пакет&gt;\nnpm install -g &lt;пакет&gt;\n\n// Установка зависимостей одной командой\nnpm i react axios lodash\n\n// Установка нескольких зависимостей с одинаковым префиксом\nnpm i eslint-{plugin-import,plugin-react,loader} express</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"5-npm-скрипты\" style=\"position:relative;\"><a href=\"#5-npm-%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D1%8B\" aria-label=\"5 npm скрипты permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. NPM скрипты</h2>\n<p>Поддержка скриптов в пакетном менеджере неменее важная функция.\nДля перечисления всех переменных среды можно использовать <code class=\"language-text\">npm run env</code> - она перечисляет все переменные среды. Она так же содержит свойства пакета с префиксом <code class=\"language-text\">npm_package_</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\">npm run env</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Вывод команды</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\">npm_config_save_dev=\nnpm_config_legacy_bundling=\nnpm_config_dry_run=\nnpm_config_viewer=man\n.\n.\nnpm_package_license=ISC         \nnpm_package_author_name=Micasa\nnpm_package_name=npm-tips-and-tricks \n.\n.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Вы так же можете получить доступ к переменным окружениям <code class=\"language-text\">env.npm_package_name</code>.</p>\n<h3 id=\"51-конфигурация-своих-переменных-в-packagejson\" style=\"position:relative;\"><a href=\"#51-%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D1%81%D0%B2%D0%BE%D0%B8%D1%85-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85-%D0%B2-packagejson\" aria-label=\"51 конфигурация своих переменных в packagejson permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.1. Конфигурация своих переменных в package.json</h3>\n<p>В npm есть возможность сохранять свои переменные как переменные окружения npm c префиксом <code class=\"language-text\">npm_package_config_</code>. Переменные создаются в package.json в секции <code class=\"language-text\">config</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\">&quot;config&quot;: {\n    &quot;helloworld&quot;: &quot;Hello World&quot;\n},</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Проверим</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\">npm run env | grep npm_package_config_</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Мы увидим следующее </p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ini line-numbers\"><code class=\"language-ini\"><span class=\"token constant\">npm_package_config_myvariable</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>Hello World</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h2 id=\"52-объявление-своих-скриптов\" style=\"position:relative;\"><a href=\"#52-%D0%BE%D0%B1%D1%8A%D1%8F%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D1%81%D0%B2%D0%BE%D0%B8%D1%85-%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%BE%D0%B2\" aria-label=\"52 объявление своих скриптов permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.2. Объявление своих скриптов</h2>\n<p>Команда <code class=\"language-text\">npm run</code> выведит все скрипты на выполнения в package.json. Попробуем добавить свой скрипт в package.json.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node index.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"echo-hello\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Hello\\\"\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"echo-helloworld\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Helloworld\\\"\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"echo-both\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm run echo-hello &amp;&amp; npm run echo-helloworld\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"echo-both-in-parallel\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm run echo-hello &amp; npm run echo-helloworld\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"echo-packagename\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo $npm_package_name\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"echo-myvariable\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo $npm_package_config_myvariable\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"echo-passargument\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm run echo-packagename -- \\\"hello\\\"\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"echo-pipedata\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cat ./package.json | jq .name > package-name.txt\"</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Попробуем посмотреть с помощью CLI заданные скрипты</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\"># npm-tips-and-tricks (name of our package)\nLifecycle scripts included in npm-tips-and-tricks:\n  test\n    echo &quot;Error: no test specified&quot; &amp;&amp; exit 1\n  start\n    node index.js\navailable via `npm run-script`:\n  echo-hello\n    echo &quot;Hello&quot;\n  echo-helloworld\n    echo &quot;Helloworld&quot;\n  echo-both\n    npm run echo-hello &amp;&amp; npm run echo-helloworld\n  echo-both-in-parallel\n    npm run echo-hello &amp; npm run echo-helloworld\n  echo-packagename\n    echo $npm_package_name\n  echo-myvariable\n    echo $npm_package_config_myvariable\n  echo-passargument\n    npm run echo-packagename -- &quot;hello&quot;\n  echo-pipedata\n    cat ./package.json | jq .name &gt; package-name.txt</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Для запуска скрипта выполнем <code class=\"language-text\">npm run echo-hello</code>.</p>\n<h2 id=\"53-запуск-нескольких-скриптов\" style=\"position:relative;\"><a href=\"#53-%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA-%D0%BD%D0%B5%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%B8%D1%85-%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%BE%D0%B2\" aria-label=\"53 запуск нескольких скриптов permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.3. Запуск нескольких скриптов</h2>\n<p>Для запуска нескольких скриптом можно использовать операцию <code class=\"language-text\">&amp;&amp;</code>. Эта операция запускает последовательно указанные скрипты. Если мы хотим запустить скрипты параллельно, то можно использовать операцию <code class=\"language-text\">&amp;</code>.</p>\n<h2 id=\"54-пример-использования-переменных-окружения\" style=\"position:relative;\"><a href=\"#54-%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85-%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F\" aria-label=\"54 пример использования переменных окружения permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.4. Пример использования переменных окружения</h2>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\">npm run echo-packagename\n# Output\n&gt; echo $npm_package_name\nnpm-tips-and-tricks\n-------------\nnpm run echo-myvariable\n# Output\n&gt; echo $npm_package_config_myvariable\nHello World</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id=\"55-передача-аргументов-в-скрипты\" style=\"position:relative;\"><a href=\"#55-%D0%BF%D0%B5%D1%80%D0%B5%D0%B4%D0%B0%D1%87%D0%B0-%D0%B0%D1%80%D0%B3%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%B2-%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D1%8B\" aria-label=\"55 передача аргументов в скрипты permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.5. Передача аргументов в скрипты</h1>\n<p>Можно использовать <code class=\"language-text\">-</code> для передачи аргументов в npm скрипты. В примере ниже, мы передаем скрипту <code class=\"language-text\">echo-packagename</code> аргумент <code class=\"language-text\">&quot;hello&quot;</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\">npm run echo-passargument\n# Output\n&gt; npm run echo-packagename -- &quot;hello&quot;\n&gt; npm-tips-and-tricks@1.0.0 echo-packagename\n&gt; echo $npm_package_name &quot;hello&quot;\nnpm-tips-and-tricks hello</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"6-быстрая-навигация-между-документацией-пакетов\" style=\"position:relative;\"><a href=\"#6-%D0%B1%D1%8B%D1%81%D1%82%D1%80%D0%B0%D1%8F-%D0%BD%D0%B0%D0%B2%D0%B8%D0%B3%D0%B0%D1%86%D0%B8%D1%8F-%D0%BC%D0%B5%D0%B6%D0%B4%D1%83-%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D0%B5%D0%B9-%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2\" aria-label=\"6 быстрая навигация между документацией пакетов permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. Быстрая навигация между документацией пакетов</h2>\n<p>Для любого пакета можно очень просто получить документацию</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\">npm docs &lt;пакет&gt;\nлибо\nnpm home &lt;пакет&gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Так же можно проверить пакет на незакрытые уязвимости</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\">npm bug &lt;пакет&gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Открыть в бразуере репозиторий пакета можно так <code class=\"language-text\">npm repo &lt;пакет&gt;</code>.</p>\n<h2 id=\"7-удаление-дублирующихся-пакетов\" style=\"position:relative;\"><a href=\"#7-%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B4%D1%83%D0%B1%D0%BB%D0%B8%D1%80%D1%83%D1%8E%D1%89%D0%B8%D1%85%D1%81%D1%8F-%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2\" aria-label=\"7 удаление дублирующихся пакетов permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. Удаление дублирующихся пакетов</h2>\n<p>Для удаления повторяющихся зависимостей можно запустить <code class=\"language-text\">npm dedupe</code>. Она упрощает общую структуру, удаляя повторяющиеся пакеты и эффективно разделяя общую зависимость между несколькими зависимыми пакетами. В результате получается плоское дерево.</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\">npm dedupe // или npm ddp</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h2 id=\"8-сканирование-зависимостей-на-уязвимости\" style=\"position:relative;\"><a href=\"#8-%D1%81%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B5%D0%B9-%D0%BD%D0%B0-%D1%83%D1%8F%D0%B7%D0%B2%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B8\" aria-label=\"8 сканирование зависимостей на уязвимости permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8. Сканирование зависимостей на уязвимости</h2>\n<p>Для сканирования зависимостей приложения на уязвимости можно использовать <code class=\"language-text\">npm audit</code>. На выходе команда выдает на дисплее и в JSON формате информацию о уязвисимостях в зависимостях.</p>\n<p>Команда <code class=\"language-text\">npm audit fix</code> автоматически устанавливает патчи (если они есть) во всех уязвимых пакетах.</p>\n<h2 id=\"9-проверка-окружения\" style=\"position:relative;\"><a href=\"#9-%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0-%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F\" aria-label=\"9 проверка окружения permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>9. Проверка окружения</h2>\n<p>Команда <code class=\"language-text\">npm doctor</code> проверяет программное окружения на выданные привелегии, возможность установки зависимостей и валидность зависимостей.</p>\n<h2 id=\"10-проверка-устаревших-пакетов\" style=\"position:relative;\"><a href=\"#10-%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0-%D1%83%D1%81%D1%82%D0%B0%D1%80%D0%B5%D0%B2%D1%88%D0%B8%D1%85-%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2\" aria-label=\"10 проверка устаревших пакетов permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10. Проверка устаревших пакетов</h2>\n<p>Для проверки устаревших пакетов можно использовать <code class=\"language-text\">npm outdated --long</code> или <code class=\"language-text\">npm outdated -l</code>.\nТакже можно проверить наличие последней версии для любого пакета npm, просто выполнив команду </p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\"># Показывает информацию о пакете \nnpm view &lt;package-name&gt; или npm v &lt;package-name&gt;\n\n# Показывает только последнюю версию \nnpm v &lt;package-name&gt; version\n\n# Показывает список всех версий \nnpm v &lt;package-name&gt; versions</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"11-список-установленных-пакетов\" style=\"position:relative;\"><a href=\"#11-%D1%81%D0%BF%D0%B8%D1%81%D0%BE%D0%BA-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D1%85-%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2\" aria-label=\"11 список установленных пакетов permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11. Список установленных пакетов</h2>\n<p>Для вывода списка установленных пакетом можно использовать <code class=\"language-text\">npm ls</code>. Команда выводит зависимости в виде дерева. Так же можно использовать флаг <code class=\"language-text\">--depth</code> для ограничения глубины поиска.</p>\n<div class=\"gatsby-highlight\" data-language=\"cmd\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-cmd line-numbers\"><code class=\"language-cmd\">npm ls --depth=1</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>","excerpt":"Введение NPM - это пакетный менеджер для javascript. Многие javascript разработчики использовали на практике CLI инструменты для установки…","fields":{"slug":"/2020/12/21/what-data-structures-javascript-developer-should-know"},"frontmatter":{"id":"what-data-structures-javascript-developer-should-know","title":"Топ советов и хитростей NPM","slug":"/2020/12/21/what-data-structures-javascript-developer-should-know","date":"2020-12-21T03:48:03.125Z","headerImage":"https://i.imgur.com/cbqnKGc.jpeg"}},"previous":null,"next":null}]}},"pageContext":{"id":"30fe8f03-f0b5-57c2-9383-0e69a090c96b","index":0}},"staticQueryHashes":["1003931674","3920033386"]}